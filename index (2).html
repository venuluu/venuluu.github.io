<html>
    <head><style>
        #counter{
            background-color: aquamarine;
            color: black;
            width: 200px;
        }
        </style>
    </head>
    <body>
        <input id="in" >
        <button onclick="fun1()" id="sub">submit</button>
        <button id="counter">local storage</button>
        <!-- <input id="in1" placeholder="enter  delete data">
        <button id="sdel" onclick="fun3()">search delete</button> -->
        <ui id="ul"></ui>
        <script>

            var g=document.getElementById("in").value
             if(g==""){ document.getElementById("sub").style.display="none";
            }
              document.getElementById("in").addEventListener("keyup",function(keydown){ 
                var g=document.getElementById("in").value
                if(g==""){ document.getElementById("sub").style.display="none";
            }else{
                    document.getElementById("sub").style.display="inline";}
        
              })
                
            todolist=[]
            todolist=JSON.parse(window.localStorage.getItem("todolistmain"))
            if(window.localStorage.getItem("todolistmain")){
            gentodolist()
           }

        function fun1(){    
           var todo= document.getElementById("in").value;
           todolist.push(todo)
           window.localStorage.setItem("todolistmain",JSON.stringify(todolist))
           gentodolist() 
           document.getElementById("counter").innerHTML=todolist.length;
             }
         function gentodolist(){
            document.getElementById("ul").innerHTML=""
            for(let i=0;i<=todolist.length-1;i++){
            var nli=document.createElement("li");
            nli.innerText=todolist[i]
            document.getElementById("ul").appendChild(nli)
            var btn=document.createElement("button")
            btn.innerHTML="delete"
            document.getElementById("ul").appendChild(btn)
           
             btn.addEventListener("click",function fun4(val){
            //  todolist11=todolist.copy()   
             todolist.splice(i,1)
             window.localStorage.setItem("todolistmain",JSON.stringify(todolist))
             gentodolist()
            })
           }
            if(window.localStorage.getItem("todolistmain"))
            {
            document.getElementById("counter").innerHTML=todolist.length;
            }
            else{
                document.getElementById("counter").innerText="local storage is zero"
            }
        
        }
           
        </script>
    </body>
</html>
